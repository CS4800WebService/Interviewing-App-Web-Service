CREATE SCHEMA `CS4800InterviewApp`;
CREATE TABLE Interviewee (intervieweeid INT AUTO_INCREMENT, username VARCHAR(32), password VARCHAR(128) NOT NULL, firstname VARCHAR(32), lastname VARCHAR(32), datecreated timestamp DEFAULT CURRENT_TIMESTAMP, profilepic blob, PRIMARY KEY(intervieweeid, username));
CREATE TABLE Employer (employerid INT AUTO_INCREMENT, username VARCHAR(32), password VARCHAR(32) NOT NULL, companyname VARCHAR(255), status VARCHAR(32), datecreated timestamp DEFAULT CURRENT_TIMESTAMP, profilepic blob, PRIMARY KEY(employerid, username));
CREATE TABLE Jobs (jobid INT AUTO_INCREMENT, employerid INT, title VARCHAR(128), description varchar(255), status VARCHAR(32), numhiring INT, numapplicant INT, datecreated TIMESTAMP DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY(jobid), FOREIGN KEY (employerid) REFERENCES Employer (employerid));
CREATE TABLE IntervieweeApplication (itemid INT AUTO_INCREMENT, intervieweeid INT, jobid INT, title VARCHAR(128), body varchar(255), status VARCHAR(32), datecreated timestamp DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY(itemid), FOREIGN KEY (intervieweeid) REFERENCES Interviewee (intervieweeid), FOREIGN KEY (jobid) REFERENCES Jobs (jobid));
CREATE TABLE InterviewRecords (recordid INT AUTO_INCREMENT, itemid INT, questionvideo LONGBLOB, questionvideolink VARCHAR(128), answervideolink VARCHAR(128), questiontext VARCHAR(255), voiceres VARCHAR(255), faceres VARCHAR(255), textres VARCHAR(255), answervideo LONGBLOB, answertext VARCHAR(255), datecreated timestamp DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY(recordid), FOREIGN KEY (itemid) REFERENCES IntervieweeApplication (itemid));
SELECT * FROM intervieweeapplication;