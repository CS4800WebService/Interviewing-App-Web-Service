CREATE SCHEMA `CS4800InterviewApp`;
CREATE TABLE Interviewee (intervieweeId INT AUTO_INCREMENT, userName VARCHAR(16), password VARCHAR(32), firstName VARCHAR(32) NOT NULL, lastName VARCHAR(32) NOT NULL, dateCreated timestamp DEFAULT CURRENT_TIMESTAMP, profilePic blob, PRIMARY KEY(intervieweeId, userName));
CREATE TABLE Employer (employerId INT AUTO_INCREMENT, userName VARCHAR(16), password VARCHAR(32), companyName VARCHAR(255) NOT NULL, status VARCHAR(16), dateCreated timestamp DEFAULT CURRENT_TIMESTAMP, profilePic blob, PRIMARY KEY(employerId, userName));
CREATE TABLE Jobs (jobId INT AUTO_INCREMENT, employerId INT, status VARCHAR(16), numHiring INT, numApplicant INT, dateCreated TIMESTAMP DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY(jobId), FOREIGN KEY (employerId) REFERENCES Employer (employerId));
CREATE TABLE IntervieweeApplication (itemId INT AUTO_INCREMENT, intervieweeId INT, jobId INT, status VARCHAR(16), dateCreated timestamp DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY(itemId), FOREIGN KEY (intervieweeId) REFERENCES Interviewee (intervieweeId), FOREIGN KEY (jobId) REFERENCES Jobs (jobId));
CREATE TABLE InterviewRecords (recordId INT AUTO_INCREMENT, intervieweeId INT, questionVideo LONGBLOB, questionText VARCHAR(255), answerVideo LONGBLOB, answerText VARCHAR(255), dateCreated timestamp DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY(recordId), FOREIGN KEY (intervieweeId) REFERENCES Interviewee (intervieweeId));
CREATE TABLE InterviewAnalysis (analysisId INT AUTO_INCREMENT, recordId INT, voiceRes VARCHAR(255), faceRes VARCHAR(255), textRes VARCHAR(255), PRIMARY KEY(analysisId), FOREIGN KEY (recordId) REFERENCES InterviewRecords (recordId));